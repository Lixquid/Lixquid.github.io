(function() {
  var eCase, eEscapes, eFind, eInput, eMultiline, eRegex, eReplace, eUndo, eWhole, escapeInput, escapeReplace, undoList;

  eFind = document.getElementById("input--find");

  eReplace = document.getElementById("input--replace");

  eCase = document.getElementById("input--case");

  eWhole = document.getElementById("input--whole");

  eRegex = document.getElementById("input--regex");

  eMultiline = document.getElementById("input--multiline");

  eEscapes = document.getElementById("input--escapes");

  eInput = document.getElementById("input--input");

  eUndo = document.getElementById("input--undo");

  escapeInput = function(str) {
    return str.replace(/[^a-zA-Z0-9 ]/g, "\\$&");
  };

  escapeReplace = function(str) {
    return str.replace(/\$/g, "$$$$");
  };

  undoList = [];

  document.getElementById("input--match").addEventListener("click", function() {
    var input, regex, replace;
    input = eFind.value;
    replace = eReplace.value;
    if (!eRegex.checked) {
      input = escapeInput(input);
    }
    if (eWhole.checked) {
      input = "\\b" + input + "\\b";
    }
    if (!eEscapes.checked) {
      replace = escapeReplace(replace);
    }
    regex = new RegExp(input, "g" + (eCase.checked ? "i" : "") + (eMultiline.checked ? "m" : ""));
    undoList.push(eInput.value);
    eUndo.disabled = false;
    return eInput.value = eInput.value.replace(regex, replace);
  });

  eRegex.addEventListener("change", function() {
    if (eRegex.checked) {
      eFind.style.fontFamily = "monospace";
    } else {
      eFind.style.fontFamily = null;
    }
    return eMultiline.disabled = !eRegex.checked;
  });

  eUndo.addEventListener("click", function() {
    eInput.value = undoList.pop();
    if (undoList.length === 0) {
      return eUndo.disabled = true;
    }
  });

}).call(this);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FkZ2V0cy9maW5kYW5kcmVwbGFjZS9pbmRleC5qcyIsInNvdXJjZXMiOlsiZ2FkZ2V0cy9maW5kYW5kcmVwbGFjZS9pbmRleC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7QUFBQSxNQUFBOztFQUFBLEtBQUEsR0FBUSxRQUFRLENBQUMsY0FBVCxDQUF3QixhQUF4Qjs7RUFDUixRQUFBLEdBQVcsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsZ0JBQXhCOztFQUNYLEtBQUEsR0FBUSxRQUFRLENBQUMsY0FBVCxDQUF3QixhQUF4Qjs7RUFDUixNQUFBLEdBQVMsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsY0FBeEI7O0VBQ1QsTUFBQSxHQUFTLFFBQVEsQ0FBQyxjQUFULENBQXdCLGNBQXhCOztFQUNULFVBQUEsR0FBYSxRQUFRLENBQUMsY0FBVCxDQUF3QixrQkFBeEI7O0VBQ2IsUUFBQSxHQUFXLFFBQVEsQ0FBQyxjQUFULENBQXdCLGdCQUF4Qjs7RUFDWCxNQUFBLEdBQVMsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsY0FBeEI7O0VBQ1QsS0FBQSxHQUFRLFFBQVEsQ0FBQyxjQUFULENBQXdCLGFBQXhCOztFQUlSLFdBQUEsR0FBYyxTQUFFLEdBQUY7V0FBVyxHQUFHLENBQUMsT0FBSixDQUFZLGdCQUFaLEVBQThCLE1BQTlCO0VBQVg7O0VBQ2QsYUFBQSxHQUFnQixTQUFFLEdBQUY7V0FBVyxHQUFHLENBQUMsT0FBSixDQUFZLEtBQVosRUFBbUIsTUFBbkI7RUFBWDs7RUFFaEIsUUFBQSxHQUFXOztFQUlYLFFBQVEsQ0FBQyxjQUFULENBQXlCLGNBQXpCLENBQXlDLENBQUMsZ0JBQTFDLENBQTJELE9BQTNELEVBQW9FLFNBQUE7QUFDbkUsUUFBQTtJQUFBLEtBQUEsR0FBUSxLQUFLLENBQUM7SUFDZCxPQUFBLEdBQVUsUUFBUSxDQUFDO0lBRW5CLElBQUcsQ0FBSSxNQUFNLENBQUMsT0FBZDtNQUNDLEtBQUEsR0FBUSxXQUFBLENBQWEsS0FBYixFQURUOztJQUVBLElBQUcsTUFBTSxDQUFDLE9BQVY7TUFDQyxLQUFBLEdBQVEsS0FBQSxHQUFRLEtBQVIsR0FBZ0IsTUFEekI7O0lBRUEsSUFBRyxDQUFJLFFBQVEsQ0FBQyxPQUFoQjtNQUNDLE9BQUEsR0FBVSxhQUFBLENBQWUsT0FBZixFQURYOztJQUdBLEtBQUEsR0FBUSxJQUFJLE1BQUosQ0FBWSxLQUFaLEVBQW1CLEdBQUEsR0FDMUIsQ0FBSyxLQUFLLENBQUMsT0FBVCxHQUFzQixHQUF0QixHQUErQixFQUFqQyxDQUQwQixHQUUxQixDQUFLLFVBQVUsQ0FBQyxPQUFkLEdBQTJCLEdBQTNCLEdBQW9DLEVBQXRDLENBRk87SUFLUixRQUFRLENBQUMsSUFBVCxDQUFjLE1BQU0sQ0FBQyxLQUFyQjtJQUNBLEtBQUssQ0FBQyxRQUFOLEdBQWlCO1dBRWpCLE1BQU0sQ0FBQyxLQUFQLEdBQWUsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFiLENBQXNCLEtBQXRCLEVBQTZCLE9BQTdCO0VBbkJvRCxDQUFwRTs7RUFxQkEsTUFBTSxDQUFDLGdCQUFQLENBQXdCLFFBQXhCLEVBQWtDLFNBQUE7SUFDakMsSUFBRyxNQUFNLENBQUMsT0FBVjtNQUNDLEtBQUssQ0FBQyxLQUFLLENBQUMsVUFBWixHQUF5QixZQUQxQjtLQUFBLE1BQUE7TUFHQyxLQUFLLENBQUMsS0FBSyxDQUFDLFVBQVosR0FBeUIsS0FIMUI7O1dBSUEsVUFBVSxDQUFDLFFBQVgsR0FBc0IsQ0FBSSxNQUFNLENBQUM7RUFMQSxDQUFsQzs7RUFPQSxLQUFLLENBQUMsZ0JBQU4sQ0FBdUIsT0FBdkIsRUFBZ0MsU0FBQTtJQUMvQixNQUFNLENBQUMsS0FBUCxHQUFlLFFBQVEsQ0FBQyxHQUFULENBQUE7SUFDZixJQUFHLFFBQVEsQ0FBQyxNQUFULEtBQW1CLENBQXRCO2FBQ0MsS0FBSyxDQUFDLFFBQU4sR0FBaUIsS0FEbEI7O0VBRitCLENBQWhDO0FBL0NBIiwic291cmNlc0NvbnRlbnQiOlsiIyMgRWxlbWVudHMgIyNcblxuZUZpbmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcImlucHV0LS1maW5kXCJcbmVSZXBsYWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJpbnB1dC0tcmVwbGFjZVwiXG5lQ2FzZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwiaW5wdXQtLWNhc2VcIlxuZVdob2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJpbnB1dC0td2hvbGVcIlxuZVJlZ2V4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJpbnB1dC0tcmVnZXhcIlxuZU11bHRpbGluZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwiaW5wdXQtLW11bHRpbGluZVwiXG5lRXNjYXBlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwiaW5wdXQtLWVzY2FwZXNcIlxuZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJpbnB1dC0taW5wdXRcIlxuZVVuZG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcImlucHV0LS11bmRvXCJcblxuIyMgRnVuY3Rpb25zICMjXG5cbmVzY2FwZUlucHV0ID0gKCBzdHIgKSAtPiBzdHIucmVwbGFjZSAvW15hLXpBLVowLTkgXS9nLCBcIlxcXFwkJlwiXG5lc2NhcGVSZXBsYWNlID0gKCBzdHIgKSAtPiBzdHIucmVwbGFjZSAvXFwkL2csIFwiJCQkJFwiXG5cbnVuZG9MaXN0ID0gW11cblxuIyMgRXZlbnRzICMjXG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBcImlucHV0LS1tYXRjaFwiICkuYWRkRXZlbnRMaXN0ZW5lciBcImNsaWNrXCIsIC0+XG5cdGlucHV0ID0gZUZpbmQudmFsdWVcblx0cmVwbGFjZSA9IGVSZXBsYWNlLnZhbHVlXG5cblx0aWYgbm90IGVSZWdleC5jaGVja2VkXG5cdFx0aW5wdXQgPSBlc2NhcGVJbnB1dCggaW5wdXQgKVxuXHRpZiBlV2hvbGUuY2hlY2tlZFxuXHRcdGlucHV0ID0gXCJcXFxcYlwiICsgaW5wdXQgKyBcIlxcXFxiXCJcblx0aWYgbm90IGVFc2NhcGVzLmNoZWNrZWRcblx0XHRyZXBsYWNlID0gZXNjYXBlUmVwbGFjZSggcmVwbGFjZSApXG5cblx0cmVnZXggPSBuZXcgUmVnRXhwKCBpbnB1dCwgXCJnXCIgK1xuXHRcdCggaWYgZUNhc2UuY2hlY2tlZCB0aGVuIFwiaVwiIGVsc2UgXCJcIiApICtcblx0XHQoIGlmIGVNdWx0aWxpbmUuY2hlY2tlZCB0aGVuIFwibVwiIGVsc2UgXCJcIiApXG5cdClcblxuXHR1bmRvTGlzdC5wdXNoIGVJbnB1dC52YWx1ZVxuXHRlVW5kby5kaXNhYmxlZCA9IGZhbHNlXG5cblx0ZUlucHV0LnZhbHVlID0gZUlucHV0LnZhbHVlLnJlcGxhY2UoIHJlZ2V4LCByZXBsYWNlIClcblxuZVJlZ2V4LmFkZEV2ZW50TGlzdGVuZXIgXCJjaGFuZ2VcIiwgLT5cblx0aWYgZVJlZ2V4LmNoZWNrZWRcblx0XHRlRmluZC5zdHlsZS5mb250RmFtaWx5ID0gXCJtb25vc3BhY2VcIlxuXHRlbHNlXG5cdFx0ZUZpbmQuc3R5bGUuZm9udEZhbWlseSA9IG51bGxcblx0ZU11bHRpbGluZS5kaXNhYmxlZCA9IG5vdCBlUmVnZXguY2hlY2tlZFxuXG5lVW5kby5hZGRFdmVudExpc3RlbmVyIFwiY2xpY2tcIiwgLT5cblx0ZUlucHV0LnZhbHVlID0gdW5kb0xpc3QucG9wKClcblx0aWYgdW5kb0xpc3QubGVuZ3RoID09IDBcblx0XHRlVW5kby5kaXNhYmxlZCA9IHRydWVcbiJdfQ==
