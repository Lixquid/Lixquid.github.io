(function() {
  var addLeadingZero, clamp, cmykToRgb, computeColour, eCMYKc, eCMYKk, eCMYKm, eCMYKy, eHex, eRGBa, eRGBb, eRGBg, eRGBr, rgbToCmyk, toHex, validateContents;

  eRGBr = document.getElementById("colour--rgb--r");

  eRGBg = document.getElementById("colour--rgb--g");

  eRGBb = document.getElementById("colour--rgb--b");

  eRGBa = document.getElementById("colour--rgb--a");

  eHex = document.getElementById("colour--hex");

  eCMYKc = document.getElementById("colour--cmyk--c");

  eCMYKm = document.getElementById("colour--cmyk--m");

  eCMYKy = document.getElementById("colour--cmyk--y");

  eCMYKk = document.getElementById("colour--cmyk--k");

  validateContents = function(el, fn) {
    if (!fn && el.type === "number") {
      if (el.step === "1") {
        fn = function(el) {
          return !isNaN(parseInt(el.value));
        };
      } else {
        fn = function(el) {
          return !isNaN(parseFloat(el.value));
        };
      }
    }
    if (fn(el)) {
      el.classList.remove("is-invalid");
      return true;
    } else {
      el.classList.add("is-invalid");
      return false;
    }
  };

  clamp = function(v, min, max) {
    return Math.min(Math.max(v, min), max);
  };

  addLeadingZero = function(s) {
    if (s.length < 2) {
      return "0" + s;
    } else {
      return s;
    }
  };

  toHex = function(r, g, b, a) {
    var ref;
    if (typeof r !== "number") {
      ref = r, r = ref[0], g = ref[1], b = ref[2], a = ref[3];
    }
    r = clamp(r, 0, 255);
    g = clamp(g, 0, 255);
    b = clamp(b, 0, 255);
    a = clamp(a, 0, 255);
    return addLeadingZero(r.toString(16).toUpperCase()) + addLeadingZero(g.toString(16).toUpperCase()) + addLeadingZero(b.toString(16).toUpperCase()) + (a !== 255 ? addLeadingZero(a.toString(16).toUpperCase()) : "");
  };

  cmykToRgb = function(c, m, y, k) {
    var ref;
    if (typeof c !== "number") {
      ref = c, c = ref[0], m = ref[1], y = ref[2], k = ref[3];
    }
    c = clamp(c, 0, 1);
    m = clamp(m, 0, 1);
    y = clamp(y, 0, 1);
    k = clamp(k, 0, 1);
    return [Math.round(255 * (1 - Math.min(1, c * (1 - k) + k))), Math.round(255 * (1 - Math.min(1, m * (1 - k) + k))), Math.round(255 * (1 - Math.min(1, y * (1 - k) + k)))];
  };

  rgbToCmyk = function(r, g, b) {
    var k, ref;
    if (typeof r !== "number") {
      ref = r, r = ref[0], g = ref[1], b = ref[2];
    }
    r = clamp(r, 0, 255);
    g = clamp(g, 0, 255);
    b = clamp(b, 0, 255);
    k = Math.min(1 - r / 255, 1 - g / 255, 1 - b / 255);
    return [Math.round((1 - r / 255 - k) / (1 - k) * 1000) / 1000, Math.round((1 - g / 255 - k) / (1 - k) * 1000) / 1000, Math.round((1 - b / 255 - k) / (1 - k) * 1000) / 1000, Math.round(k * 1000) / 1000];
  };

  computeColour = function() {
    var cmyk, col, match;
    col = [0, 0, 0];
    if (this === eRGBr || this === eRGBg || this === eRGBb || this === eRGBa) {
      if (!validateContents(eRGBr) || !validateContents(eRGBg) || !validateContents(eRGBb) || !validateContents(eRGBa)) {
        return;
      }
      col[0] = parseInt(eRGBr.value);
      col[1] = parseInt(eRGBg.value);
      col[2] = parseInt(eRGBb.value);
      col[3] = parseInt(eRGBa.value);
    } else if (this === eHex) {
      match = eHex.value.match(/^\s*\#?(?:([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?|([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?)\s*$/i);
      if (!validateContents(eHex, function() {
        return match;
      })) {
        return;
      }
      if (match[1]) {
        col[0] = parseInt(match[1] + match[1], 16);
        col[1] = parseInt(match[2] + match[2], 16);
        col[2] = parseInt(match[3] + match[3], 16);
        if (match[4]) {
          col[3] = parseInt(match[4] + match[4], 16);
        }
      } else {
        col[0] = parseInt(match[5], 16);
        col[1] = parseInt(match[6], 16);
        col[2] = parseInt(match[7], 16);
        if (match[8]) {
          col[3] = parseInt(match[8], 16);
        }
      }
    } else if (this === eCMYKc || this === eCMYKm || this === eCMYKy || this === eCMYKk) {
      if (!validateContents(eRGBr) || !validateContents(eRGBg) || !validateContents(eRGBb) || !validateContents(eRGBa)) {
        return;
      }
      col = cmykToRgb(clamp(eCMYKc.value, 0, 1), clamp(eCMYKm.value, 0, 1), clamp(eCMYKy.value, 0, 1), clamp(eCMYKk.value, 0, 1));
    }
    if (col[3] == null) {
      col[3] = 255;
    }
    eRGBr.value = col[0];
    eRGBg.value = col[1];
    eRGBb.value = col[2];
    eRGBa.value = col[3];
    eHex.value = toHex(col);
    cmyk = rgbToCmyk(col);
    eCMYKc.value = cmyk[0];
    eCMYKm.value = cmyk[1];
    eCMYKy.value = cmyk[2];
    eCMYKk.value = cmyk[3];
    document.getElementById("colour--display--card").style.backgroundColor = "#" + toHex(col);
    document.getElementById("colour--display--lightbg").style.color = "#" + toHex(col);
    return document.getElementById("colour--display--darkbg").style.color = "#" + toHex(col);
  };

  document.getElementById("colour--rgb--r").addEventListener("change", computeColour);

  document.getElementById("colour--rgb--g").addEventListener("change", computeColour);

  document.getElementById("colour--rgb--b").addEventListener("change", computeColour);

  document.getElementById("colour--rgb--a").addEventListener("change", computeColour);

  document.getElementById("colour--hex").addEventListener("change", computeColour);

  document.getElementById("colour--cmyk--c").addEventListener("change", computeColour);

  document.getElementById("colour--cmyk--m").addEventListener("change", computeColour);

  document.getElementById("colour--cmyk--y").addEventListener("change", computeColour);

  document.getElementById("colour--cmyk--k").addEventListener("change", computeColour);

}).call(this);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FkZ2V0cy9jb252ZXJ0ZXIvaW5kZXguanMiLCJzb3VyY2VzIjpbImdhZGdldHMvY29udmVydGVyL2luZGV4LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtBQUFBLE1BQUE7O0VBQUEsS0FBQSxHQUFRLFFBQVEsQ0FBQyxjQUFULENBQXdCLGdCQUF4Qjs7RUFDUixLQUFBLEdBQVEsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsZ0JBQXhCOztFQUNSLEtBQUEsR0FBUSxRQUFRLENBQUMsY0FBVCxDQUF3QixnQkFBeEI7O0VBQ1IsS0FBQSxHQUFRLFFBQVEsQ0FBQyxjQUFULENBQXdCLGdCQUF4Qjs7RUFDUixJQUFBLEdBQU8sUUFBUSxDQUFDLGNBQVQsQ0FBd0IsYUFBeEI7O0VBQ1AsTUFBQSxHQUFTLFFBQVEsQ0FBQyxjQUFULENBQXdCLGlCQUF4Qjs7RUFDVCxNQUFBLEdBQVMsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsaUJBQXhCOztFQUNULE1BQUEsR0FBUyxRQUFRLENBQUMsY0FBVCxDQUF3QixpQkFBeEI7O0VBQ1QsTUFBQSxHQUFTLFFBQVEsQ0FBQyxjQUFULENBQXdCLGlCQUF4Qjs7RUFJVCxnQkFBQSxHQUFtQixTQUFFLEVBQUYsRUFBTSxFQUFOO0lBQ2xCLElBQUcsQ0FBSSxFQUFKLElBQVcsRUFBRSxDQUFDLElBQUgsS0FBVyxRQUF6QjtNQUNDLElBQUcsRUFBRSxDQUFDLElBQUgsS0FBVyxHQUFkO1FBQ0MsRUFBQSxHQUFLLFNBQUUsRUFBRjtBQUFVLGlCQUFPLENBQUksS0FBQSxDQUFPLFFBQUEsQ0FBVSxFQUFFLENBQUMsS0FBYixDQUFQO1FBQXJCLEVBRE47T0FBQSxNQUFBO1FBR0MsRUFBQSxHQUFLLFNBQUUsRUFBRjtBQUFVLGlCQUFPLENBQUksS0FBQSxDQUFPLFVBQUEsQ0FBWSxFQUFFLENBQUMsS0FBZixDQUFQO1FBQXJCLEVBSE47T0FERDs7SUFLQSxJQUFHLEVBQUEsQ0FBSSxFQUFKLENBQUg7TUFDQyxFQUFFLENBQUMsU0FB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M0QsR0FDQyxHQUFBLEdBQU0sS0FBQSxDQUFPLEdBQVA7RUE1RVE7O0VBOEVoQixRQUFRLENBQUMsY0FBVCxDQUF5QixnQkFBekIsQ0FDQyxDQUFDLGdCQURGLENBQ29CLFFBRHBCLEVBQzhCLGFBRDlCOztFQUVBLFFBQVEsQ0FBQyxjQUFULENBQXlCLGdCQUF6QixDQUNDLENBQUMsZ0JBREYsQ0FDb0IsUUFEcEIsRUFDOEIsYUFEOUI7O0VBRUEsUUFBUSxDQUFDLGNBQVQsQ0FBeUIsZ0JBQXpCLENBQ0MsQ0FBQyxnQkFERixDQUNvQixRQURwQixFQUM4QixhQUQ5Qjs7RUFFQSxRQUFRLENBQUMsY0FBVCxDQUF5QixnQkFBekIsQ0FDQyxDQUFDLGdCQURGLENBQ29CLFFBRHBCLEVBQzhCLGFBRDlCOztFQUVBLFFBQVEsQ0FBQyxjQUFULENBQXlCLGFBQXpCLENBQ0MsQ0FBQyxnQkFERixDQUNvQixRQURwQixFQUM4QixhQUQ5Qjs7RUFFQSxRQUFRLENBQUMsY0FBVCxDQUF5QixpQkFBekIsQ0FDQyxDQUFDLGdCQURGLENBQ29CLFFBRHBCLEVBQzhCLGFBRDlCOztFQUVBLFFBQVEsQ0FBQyxjQUFULENBQXlCLGlCQUF6QixDQUNDLENBQUMsZ0JBREYsQ0FDb0IsUUFEcEIsRUFDOEIsYUFEOUI7O0VBRUEsUUFBUSxDQUFDLGNBQVQsQ0FBeUIsaUJBQXpCLENBQ0MsQ0FBQyxnQkFERixDQUNvQixRQURwQixFQUM4QixhQUQ5Qjs7RUFFQSxRQUFRLENBQUMsY0FBVCxDQUF5QixpQkFBekIsQ0FDQyxDQUFDLGdCQURGLENBQ29CLFFBRHBCLEVBQzhCLGFBRDlCO0FBdEtBIiwic291cmNlc0NvbnRlbnQiOlsiIyMgRWxlbWVudHMgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuZVJHQnIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcImNvbG91ci0tcmdiLS1yXCJcbmVSR0JnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJjb2xvdXItLXJnYi0tZ1wiXG5lUkdCYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwiY29sb3VyLS1yZ2ItLWJcIlxuZVJHQmEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcImNvbG91ci0tcmdiLS1hXCJcbmVIZXggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcImNvbG91ci0taGV4XCJcbmVDTVlLYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwiY29sb3VyLS1jbXlrLS1jXCJcbmVDTVlLbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwiY29sb3VyLS1jbXlrLS1tXCJcbmVDTVlLeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwiY29sb3VyLS1jbXlrLS15XCJcbmVDTVlLayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwiY29sb3VyLS1jbXlrLS1rXCJcblxuIyMgQ29sb3VyICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxudmFsaWRhdGVDb250ZW50cyA9ICggZWwsIGZuICkgLT5cblx0aWYgbm90IGZuIGFuZCBlbC50eXBlID09IFwibnVtYmVyXCJcblx0XHRpZiBlbC5zdGVwID09IFwiMVwiXG5cdFx0XHRmbiA9ICggZWwgKSAtPiByZXR1cm4gbm90IGlzTmFOKCBwYXJzZUludCggZWwudmFsdWUgKSApXG5cdFx0ZWxzZVxuXHRcdFx0Zm4gPSAoIGVsICkgLT4gcmV0dXJuIG5vdCBpc05hTiggcGFyc2VGbG9hdCggZWwudmFsdWUgKSApXG5cdGlmIGZuKCBlbCApXG5cdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSBcImlzLWludmFsaWRcIlxuXHRcdHJldHVybiB0cnVlXG5cdGVsc2Vcblx0XHRlbC5jbGFzc0xpc3QuYWRkIFwiaXMtaW52YWxpZFwiXG5cdFx0cmV0dXJuIGZhbHNlXG5cbmNsYW1wID0gKCB2LCBtaW4sIG1heCApIC0+IE1hdGgubWluKCBNYXRoLm1heCggdiwgbWluICksIG1heCApXG5cbmFkZExlYWRpbmdaZXJvID0gKCBzICkgLT5cblx0aWYgcy5sZW5ndGggPCAyXG5cdFx0XCIwI3tzfVwiXG5cdGVsc2Vcblx0XHRzXG50b0hleCA9ICggciwgZywgYiwgYSApIC0+XG5cdGlmIHR5cGVvZiByICE9IFwibnVtYmVyXCJcblx0XHRbIHIsIGcsIGIsIGEgXSA9IHJcblx0ciA9IGNsYW1wKCByLCAwLCAyNTUgKVxuXHRnID0gY2xhbXAoIGcsIDAsIDI1NSApXG5cdGIgPSBjbGFtcCggYiwgMCwgMjU1IClcblx0YSA9IGNsYW1wKCBhLCAwLCAyNTUgKVxuXHRyZXR1cm4gYWRkTGVhZGluZ1plcm8oIHIudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkgKSArXG5cdFx0YWRkTGVhZGluZ1plcm8oIGcudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkgKSArXG5cdFx0YWRkTGVhZGluZ1plcm8oIGIudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkgKSArXG5cdFx0KCBpZiBhICE9IDI1NVxuXHRcdFx0YWRkTGVhZGluZ1plcm8oIGEudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkgKVxuXHRcdGVsc2UgXCJcIiApXG5jbXlrVG9SZ2IgPSAoIGMsIG0sIHksIGsgKSAtPlxuXHRpZiB0eXBlb2YgYyAhPSBcIm51bWJlclwiXG5cdFx0WyBjLCBtLCB5LCBrIF0gPSBjXG5cdGMgPSBjbGFtcCggYywgMCwgMSApXG5cdG0gPSBjbGFtcCggbSwgMCwgMSApXG5cdHkgPSBjbGFtcCggeSwgMCwgMSApXG5cdGsgPSBjbGFtcCggaywgMCwgMSApXG5cdHJldHVybiBbXG5cdFx0TWF0aC5yb3VuZCggMjU1ICogKCAxIC0gTWF0aC5taW4oIDEsIGMgKiAoIDEgLSBrICkgKyBrICkgKSApLFxuXHRcdE1hdGgucm91bmQoIDI1NSAqICggMSAtIE1hdGgubWluKCAxLCBtICogKCAxIC0gayApICsgayApICkgKSxcblx0XHRNYXRoLnJvdW5kKCAyNTUgKiAoIDEgLSBNYXRoLm1pbiggMSwgeSAqICggMSAtIGsgKSArIGsgKSApIClcblx0XVxucmdiVG9DbXlrID0gKCByLCBnLCBiICkgLT5cblx0aWYgdHlwZW9mIHIgIT0gXCJudW1iZXJcIlxuXHRcdFsgciwgZywgYiBdID0gclxuXHRyID0gY2xhbXAoIHIsIDAsIDI1NSApXG5cdGcgPSBjbGFtcCggZywgMCwgMjU1IClcblx0YiA9IGNsYW1wKCBiLCAwLCAyNTUgKVxuXG5cdGsgPSBNYXRoLm1pbiggMSAtIHIgLyAyNTUsIDEgLSBnIC8gMjU1LCAxIC0gYiAvIDI1NSApXG5cdHJldHVybiBbXG5cdFx0TWF0aC5yb3VuZCggKCAxIC0gciAvIDI1NSAtIGsgKSAvICggMSAtIGsgKSAqIDEwMDAgKSAvIDEwMDAsXG5cdFx0TWF0aC5yb3VuZCggKCAxIC0gZyAvIDI1NSAtIGsgKSAvICggMSAtIGsgKSAqIDEwMDAgKSAvIDEwMDAsXG5cdFx0TWF0aC5yb3VuZCggKCAxIC0gYiAvIDI1NSAtIGsgKSAvICggMSAtIGsgKSAqIDEwMDAgKSAvIDEwMDAsXG5cdFx0TWF0aC5yb3VuZCggayAqIDEwMDAgKSAvIDEwMDBcblx0XVxuXG5jb21wdXRlQ29sb3VyID0gLT5cblx0Y29sID0gWyAwLCAwLCAwIF1cblx0aWYgdGhpcyBpbiBbIGVSR0JyLCBlUkdCZywgZVJHQmIsIGVSR0JhIF1cblx0XHRyZXR1cm4gaWYgbm90IHZhbGlkYXRlQ29udGVudHMoIGVSR0JyICkgb3Jcblx0XHRcdG5vdCB2YWxpZGF0ZUNvbnRlbnRzKCBlUkdCZyApIG9yXG5cdFx0XHRub3QgdmFsaWRhdGVDb250ZW50cyggZVJHQmIgKSBvclxuXHRcdFx0bm90IHZhbGlkYXRlQ29udGVudHMoIGVSR0JhIClcblxuXHRcdGNvbFswXSA9IHBhcnNlSW50KCBlUkdCci52YWx1ZSApXG5cdFx0Y29sWzFdID0gcGFyc2VJbnQoIGVSR0JnLnZhbHVlIClcblx0XHRjb2xbMl0gPSBwYXJzZUludCggZVJHQmIudmFsdWUgKVxuXHRcdGNvbFszXSA9IHBhcnNlSW50KCBlUkdCYS52YWx1ZSApXG5cdGVsc2UgaWYgdGhpcyA9PSBlSGV4XG5cdFx0bWF0Y2ggPSBlSGV4LnZhbHVlLm1hdGNoIC8vL1xuXHRcdFx0XiBcXHMqIFxcIz9cblx0XHRcdCg/OlxuXHRcdFx0XHQoIFswLTlhLWZdIClcblx0XHRcdFx0KCBbMC05YS1mXSApXG5cdFx0XHRcdCggWzAtOWEtZl0gKVxuXHRcdFx0XHQoIFswLTlhLWZdICk/XG5cdFx0XHR8XG5cdFx0XHRcdCggWzAtOWEtZl17Mn0gKVxuXHRcdFx0XHQoIFswLTlhLWZdezJ9IClcblx0XHRcdFx0KCBbMC05YS1mXXsyfSApXG5cdFx0XHRcdCggWzAtOWEtZl17Mn0gKT9cblx0XHRcdClcblx0XHRcdFxccyogJFxuXHRcdC8vL2lcblxuXHRcdHJldHVybiBpZiBub3QgdmFsaWRhdGVDb250ZW50cyggZUhleCwgLT4gbWF0Y2ggKVxuXG5cdFx0aWYgbWF0Y2hbMV1cblx0XHRcdGNvbFswXSA9IHBhcnNlSW50KCBtYXRjaFsxXSArIG1hdGNoWzFdLCAxNiApXG5cdFx0XHRjb2xbMV0gPSBwYXJzZUludCggbWF0Y2hbMl0gKyBtYXRjaFsyXSwgMTYgKVxuXHRcdFx0Y29sWzJdID0gcGFyc2VJbnQoIG1hdGNoWzNdICsgbWF0Y2hbM10sIDE2IClcblx0XHRcdGlmIG1hdGNoWzRdXG5cdFx0XHRcdGNvbFszXSA9IHBhcnNlSW50KCBtYXRjaFs0XSArIG1hdGNoWzRdLCAxNiApXG5cdFx0ZWxzZVxuXHRcdFx0Y29sWzBdID0gcGFyc2VJbnQoIG1hdGNoWzVdLCAxNiApXG5cdFx0XHRjb2xbMV0gPSBwYXJzZUludCggbWF0Y2hbNl0sIDE2IClcblx0XHRcdGNvbFsyXSA9IHBhcnNlSW50KCBtYXRjaFs3XSwgMTYgKVxuXHRcdFx0aWYgbWF0Y2hbOF1cblx0XHRcdFx0Y29sWzNdID0gcGFyc2VJbnQoIG1hdGNoWzhdLCAxNiApXG5cdGVsc2UgaWYgdGhpcyBpbiBbIGVDTVlLYywgZUNNWUttLCBlQ01ZS3ksIGVDTVlLayBdXG5cdFx0cmV0dXJuIGlmIG5vdCB2YWxpZGF0ZUNvbnRlbnRzKCBlUkdCciApIG9yXG5cdFx0XHRub3QgdmFsaWRhdGVDb250ZW50cyggZVJHQmcgKSBvclxuXHRcdFx0bm90IHZhbGlkYXRlQ29udGVudHMoIGVSR0JiICkgb3Jcblx0XHRcdG5vdCB2YWxpZGF0ZUNvbnRlbnRzKCBlUkdCYSApXG5cblx0XHRjb2wgPSBjbXlrVG9SZ2IoXG5cdFx0XHRjbGFtcCggZUNNWUtjLnZhbHVlLCAwLCAxICksXG5cdFx0XHRjbGFtcCggZUNNWUttLnZhbHVlLCAwLCAxICksXG5cdFx0XHRjbGFtcCggZUNNWUt5LnZhbHVlLCAwLCAxICksXG5cdFx0XHRjbGFtcCggZUNNWUtrLnZhbHVlLCAwLCAxIClcblx0XHQpXG5cblxuXG5cdGNvbFszXSA/PSAyNTVcblxuXHRlUkdCci52YWx1ZSA9IGNvbFswXVxuXHRlUkdCZy52YWx1ZSA9IGNvbFsxXVxuXHRlUkdCYi52YWx1ZSA9IGNvbFsyXVxuXHRlUkdCYS52YWx1ZSA9IGNvbFszXVxuXHRlSGV4LnZhbHVlID0gdG9IZXgoIGNvbCApXG5cdGNteWsgPSByZ2JUb0NteWsoIGNvbCApXG5cdGVDTVlLYy52YWx1ZSA9IGNteWtbMF1cblx0ZUNNWUttLnZhbHVlID0gY215a1sxXVxuXHRlQ01ZS3kudmFsdWUgPSBjbXlrWzJdXG5cdGVDTVlLay52YWx1ZSA9IGNteWtbM11cblxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggXCJjb2xvdXItLWRpc3BsYXktLWNhcmRcIiApLnN0eWxlLmJhY2tncm91bmRDb2xvciA9XG5cdFx0XCIjXCIgKyB0b0hleCggY29sIClcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIFwiY29sb3VyLS1kaXNwbGF5LS1saWdodGJnXCIgKS5zdHlsZS5jb2xvciA9XG5cdFx0XCIjXCIgKyB0b0hleCggY29sIClcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIFwiY29sb3VyLS1kaXNwbGF5LS1kYXJrYmdcIiApLnN0eWxlLmNvbG9yID1cblx0XHRcIiNcIiArIHRvSGV4KCBjb2wgKVxuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCggXCJjb2xvdXItLXJnYi0tclwiIClcblx0LmFkZEV2ZW50TGlzdGVuZXIoIFwiY2hhbmdlXCIsIGNvbXB1dGVDb2xvdXIgKVxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIFwiY29sb3VyLS1yZ2ItLWdcIiApXG5cdC5hZGRFdmVudExpc3RlbmVyKCBcImNoYW5nZVwiLCBjb21wdXRlQ29sb3VyIClcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBcImNvbG91ci0tcmdiLS1iXCIgKVxuXHQuYWRkRXZlbnRMaXN0ZW5lciggXCJjaGFuZ2VcIiwgY29tcHV0ZUNvbG91ciApXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCggXCJjb2xvdXItLXJnYi0tYVwiIClcblx0LmFkZEV2ZW50TGlzdGVuZXIoIFwiY2hhbmdlXCIsIGNvbXB1dGVDb2xvdXIgKVxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIFwiY29sb3VyLS1oZXhcIiApXG5cdC5hZGRFdmVudExpc3RlbmVyKCBcImNoYW5nZVwiLCBjb21wdXRlQ29sb3VyIClcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBcImNvbG91ci0tY215ay0tY1wiIClcblx0LmFkZEV2ZW50TGlzdGVuZXIoIFwiY2hhbmdlXCIsIGNvbXB1dGVDb2xvdXIgKVxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIFwiY29sb3VyLS1jbXlrLS1tXCIgKVxuXHQuYWRkRXZlbnRMaXN0ZW5lciggXCJjaGFuZ2VcIiwgY29tcHV0ZUNvbG91ciApXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCggXCJjb2xvdXItLWNteWstLXlcIiApXG5cdC5hZGRFdmVudExpc3RlbmVyKCBcImNoYW5nZVwiLCBjb21wdXRlQ29sb3VyIClcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBcImNvbG91ci0tY215ay0ta1wiIClcblx0LmFkZEV2ZW50TGlzdGVuZXIoIFwiY2hhbmdlXCIsIGNvbXB1dGVDb2xvdXIgKVxuIl19
